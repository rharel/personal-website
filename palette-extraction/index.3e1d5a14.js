!function(){function t(t,n,e,r){for(var a,i=(a=e,JSON.parse(JSON.stringify(a))),o=new Array(t.length).fill(-1),c=new Array(n).fill(0),u=!0;u;)c.fill(0),u=!1,t.forEach((function(t,e){for(var a=0,l=r(t,i[0]),f=1;f<n;++f){var h=r(t,i[f]);h<l&&(l=h,a=f)}-1!==o[e]&&o[e]===a||(u=!0),o[e]=a,c[a]+=1})),u&&(i.forEach((function(t){return t.fill(0)})),t.forEach((function(t,n){var e=o[n],r=c[e],a=i[e];a.forEach((function(n,e){return a[e]+=t[e]/r}))})));return i.map((function(t,n){return{mean:t,size:c[n]}})).filter((function(t){return t.size>0}))}function n(t,n){return t+Math.floor(Math.random()*(n-t+1))}function e(e,r,a){for(var i=[],o=0;o<e.width-r;o+=r)for(var c=0;c<e.height-r;c+=r){var u=4*(n(o,o+r)+n(c,c+r)*e.width),l=e.data.slice(u,u+3);i.push([l[0],l[1],l[2]])}for(var f=i.map((function(t){return function(t,n,e){t/=255,n/=255,e/=255;var r=Math.max(t,n,e),a=Math.min(t,n,e),i=0,o=0,c=(r+a)/2;if(r===a)i=0,o=0;else{var u=r-a;switch(o=c>.5?u/(2-r-a):u/(r+a),r){case t:i=(n-e)/u+(n<e?6:0);break;case n:i=(e-t)/u+2;break;case e:i=(t-n)/u+4}i/=6}return[i,o,c]}(t[0],t[1],t[2])})),h=[],m=0;m<a;m+=1){var d=n(0,f.length-1);h.push(f[d])}return t(f,a,h,(function(t,n){return(t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])+(t[2]-n[2])*(t[2]-n[2])})).sort((function(t,n){return n.size-t.size})).map((function(t){return function(t,n,e){function r(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}var a=0,i=0,o=0;if(0===n)a=e,i=e,o=e;else{var c=e<.5?e*(1+n):e+n-e*n,u=2*e-c;a=r(u,c,t+1/3),i=r(u,c,t),o=r(u,c,t-1/3)}return[Math.max(Math.min(256*a,255),0),Math.max(Math.min(256*i,255),0),Math.max(Math.min(256*o,255),0)]}(t.mean[0],t.mean[1],t.mean[2])}))}function r(t){if(null!==t.files&&1===t.files.length){var n=t.files.item(0);if(null!==n){var r=new Image;r.src=URL.createObjectURL(n),r.addEventListener("load",(function(){for(var t=document.querySelectorAll(".demo-palette-color"),n=t.length,a=Math.ceil(Math.min(r.naturalWidth,r.naturalHeight)/20),i=function(t,n,r){var a=document.createElement("canvas");a.width=t.naturalWidth,a.height=t.naturalHeight;var i=a.getContext("2d");if(null===i)throw new Error("cannot get canvas context");return i.drawImage(t,0,0,a.width,a.height),e(i.getImageData(0,0,a.width,a.height),n,r)}(r,a,n).map((function(t){return t.map(Math.round)})),o=0;o<t.length;o+=1)t.item(o).style.removeProperty("background-color");for(var c=0;c<i.length;c+=1){var u=i[c],l=t.item(c);l.style.backgroundColor="rgb(".concat(u[0],", ").concat(u[1],", ").concat(u[2],")"),l.setAttribute("aria-label","Colored square: rgb(".concat(u[0],", ").concat(u[1],", ").concat(u[2],")"))}}))}}}window.addEventListener("DOMContentLoaded",(function(){var t,n=document.getElementById("demo-image");n instanceof HTMLInputElement&&(n.addEventListener("change",(function(){return r(n)})),null===(t=document.getElementById("demo-select-image-button"))||void 0===t||t.addEventListener("click",(function(){return n.click()})))}))}();
//# sourceMappingURL=index.3e1d5a14.js.map
