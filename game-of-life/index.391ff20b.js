!function(){class t{constructor(t,e){this.width=t,this.height=e,this.cells=new Uint8Array(t*e)}cell_index(t,e){return t+e*this.width}get(t,e){return 0<=t&&t<this.width&&0<=e&&e<this.height&&0!==this.cells[this.cell_index(t,e)]}set(t,e,i){this.cells[this.cell_index(t,e)]=+i}}function e(t,e,i){let n=t.canvas.width/e.width;if(void 0!==i)for(let{x:l,y:h}of i){let i,o;e.get(l,h)?(i=0,o=n):(i=-1,o=n+2),t.fillStyle=e.get(l,h)?"black":"white",t.fillRect(l*n+i,h*n+i,o,o)}else{t.fillStyle="white",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="black";for(let i=0;i<e.width;i+=1)for(let l=0;l<e.height;l+=1)e.get(i,l)&&t.fillRect(i*n,l*n,n,n)}}window.addEventListener("DOMContentLoaded",function(){let i=document.getElementById("demo-canvas");if(!(i instanceof HTMLCanvasElement))throw Error(`expected canvas element, found ${typeof i}`);let n=i.getContext("2d",{alpha:!1});if(null===n)throw Error("cannot get rendering context");let l=new t(44,44),h=["........................O","......................O.O","............OO......OO............OO","...........O...O....OO............OO","OO........O.....O...OO","OO........O...O.OO....O.O","..........O.....O.......O","...........O...O","............OO"];for(let t=0;t<h.length;t+=1){let e=h[t];for(let i=0;i<e.length;i+=1)"."!==e[i]&&l.set(i+4,t+6,!0)}let o=function(i,n,l){let h=n,o=new t(h.width,h.height);e(i,h);let r=!1;function s(){let t=function(t,e){if(t.width!==e.width||t.height!==e.height)throw Error("world dimension mismatch");let i=[];for(let n=0;n<t.width;n+=1)for(let l=0;l<t.height;l+=1){let h=+t.get(n-1,l-1)+ +t.get(n-1,l)+ +t.get(n-1,l+1)+ +t.get(n,l-1)+ +t.get(n,l+1)+ +t.get(n+1,l-1)+ +t.get(n+1,l)+ +t.get(n+1,l+1);e.set(n,l,t.get(n,l)&&2===h||3===h),e.get(n,l)!==t.get(n,l)&&i.push({x:n,y:l})}return i}(h,o);e(i,o,t);let n=h;h=o,o=n,r||setTimeout(()=>{requestAnimationFrame(s)},1e3/30)}return setTimeout(()=>{requestAnimationFrame(s)},1e3/30),function(){(r=!r)||setTimeout(()=>{requestAnimationFrame(s)},1e3/30)}}(n,l,30);document.getElementById("demo-toggle-pause-button")?.addEventListener("click",o)})}();
//# sourceMappingURL=index.391ff20b.js.map
