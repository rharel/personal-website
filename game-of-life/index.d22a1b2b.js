class t{cell_index(t,e){return t+e*this.width}get(t,e){return 0<=t&&t<this.width&&0<=e&&e<this.height&&0!==this.cells[this.cell_index(t,e)]}set(t,e,n){this.cells[this.cell_index(t,e)]=+n}constructor(t,e){this.width=t,this.height=e,this.cells=new Uint8Array(t*e)}}function e(t,e,n){const i=t.canvas.width/e.width;if(void 0!==n)for(const{x:o,y:l}of n){let n,s;e.get(o,l)?(n=0,s=i):(n=-1,s=i+2),t.fillStyle=e.get(o,l)?"black":"white",t.fillRect(o*i+n,l*i+n,s,s)}else{t.fillStyle="white",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="black";for(let n=0;n<e.width;n+=1)for(let o=0;o<e.height;o+=1)e.get(n,o)&&t.fillRect(n*i,o*i,i,i)}}function n(n,i,o){let l=i,s=new t(l.width,l.height);e(n,l);let h=!1;function c(){const t=function(t,e){if(t.width!==e.width||t.height!==e.height)throw new Error("world dimension mismatch");const n=[];for(let i=0;i<t.width;i+=1)for(let o=0;o<t.height;o+=1){const l=+t.get(i-1,o-1)+ +t.get(i-1,o)+ +t.get(i-1,o+1)+ +t.get(i,o-1)+ +t.get(i,o+1)+ +t.get(i+1,o-1)+ +t.get(i+1,o)+ +t.get(i+1,o+1);e.set(i,o,t.get(i,o)&&2===l||3===l),e.get(i,o)!==t.get(i,o)&&n.push({x:i,y:o})}return n}(l,s);e(n,s,t);const i=l;l=s,s=i,h||setTimeout((()=>{requestAnimationFrame(c)}),1e3/o)}return setTimeout((()=>{requestAnimationFrame(c)}),1e3/o),function(){h=!h,h||setTimeout((()=>{requestAnimationFrame(c)}),1e3/o)}}window.addEventListener("DOMContentLoaded",(function(){var e;const i=document.getElementsByClassName("demo-canvas");if(1!==i.length)throw new Error(`expected 1 demo canvas, found ${i.length}`);const o=i.item(0);if(!(o instanceof HTMLCanvasElement))throw new Error("expected canvas element, found "+typeof o);const l=o.getContext("2d",{alpha:!1});if(null===l)throw new Error("cannot get rendering context");const s=new t(44,44),h=["........................O","......................O.O","............OO......OO............OO","...........O...O....OO............OO","OO........O.....O...OO","OO........O...O.OO....O.O","..........O.....O.......O","...........O...O","............OO"];for(let t=0;t<h.length;t+=1){const e=h[t];for(let n=0;n<e.length;n+=1)"."!==e[n]&&s.set(n+4,t+6,!0)}const c=n(l,s,30);null===(e=document.getElementById("demo-toggle-pause-button"))||void 0===e||e.addEventListener("click",c)}));
//# sourceMappingURL=index.d22a1b2b.js.map
